<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Siecia University - Music Dept.</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
<body>
  <div class="container-fluid">
    <div class="row">

<!-- Column 1: Genre/Folder Dropdown -->
     <div class="col-3 song-list">

<!--Genre Dropdown-->
      <label for="genreSelect">Genre</label>
<select id="genreSelect" class="form-select form-select-sm mb-2">
  {% for g in genres %}
    <option value="{{ g }}" {% if g == genre %}selected{% endif %}>{{ g }}</option>
  {% endfor %}
</select>


<!-- available_songs_list -->
<div id="asl">
  {% include 'available_song_list.html' %}
</div>
</div><!--Close column1-->

<!-- Column 2: Video and Queue -->
     <div class="col-4 video-section">

<!-- ##### VIDEO SCREEN #### -->
     <video id="player">
        <source id="video-source" src="{{ url_for('static', filename=current_song['filename']) if current_song else '' }}" type="video/mp4">
           Your browser does not support the video tag.
      </video>

<!-- #### QUEUE #### -->
      <div id="queue" class="p-2 bg-dark text-white">
          {% include 'queue.html' %}
      </div>


 <!-- #### PLAYER BUTTONS #### -->
      <div class="mt-2 text-center border-top pt-2" id="media_controls">
           <button class="btn btn-warning btn-sm" onclick="previousSong()">Previous</button>
           <button class="btn btn-success btn-sm" onclick="togglePlayPause()" id="playPauseBtn">‚ñ∂ Play</button>
           <button class="btn btn-success btn-sm" onclick="stopPlayback()">‚èπ Stop</button>
           <button class="btn btn-warning btn-sm" onclick="restartSong()">üîÅ Start Over</button>
           <button class="btn btn-warning btn-sm" onclick="nextSong()">Next</button>
           <button class="btn btn-secondary btn-sm mt-2" onclick="window.open('/debug', '_blank')">‚öôÔ∏è</button>
      </div>



</div> <!--Close column2-->

<!-- Columns 3: Song Sheet -->
     <div class="col-5 sheet-section">
        <img src="{{ url_for('static', filename='') }}" id="sheet-display" alt="Song Sheet">
      </div> <!--Close column3-->

    </div> <!--Close class="row"-->
  </div> <!-- class="container-fluid" -->

<script>
// Needs to stay here for Python template rendering
const songs = {{ songs|tojson|safe }};
</script>
<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>